<div class="row">
	<div class="span2">

	</div>
	<div class="span8">
		<div class="row">
			<h3 data-bind="text: gameMessage"></h3>
		</div>
		<div class="row">
			<input data-bind="value: gameInput, returnAction: enterCommand, hasFocus: focusGameInput, valueUpdate: 'afterkeydown', disable: isGameOver" />
		</div>
	</div>	
	<div class="span2">
		<button data-bind="click: restartGame, visible: isGameOver">START OVER</button>
	</div>
</div>
<div class="row gameboard" data-bind="with: centeredMap">
	<div class="span1">

	</div>
	<div class="span2" data-bind="with: $parent.player, visible: $parent.session.settings().ShowAttributes">
		<h3>ATTRIBUTES</h3>
		<ul>
			<li>
				<span>NAME: </span><span data-bind="text: name"></span>
			</li>
			<li>
				<span>HIT POINTS: </span><span data-bind="text: hitPoints"></span>
			</li>
			<li>
				<span>GOLD: </span><span data-bind="text: gold"></span>
			</li>
			<li>
				<span>STRENGTH: </span><span data-bind="text: strength"></span>
			</li>
			<li>
				<span>DEXTERITY: </span><span data-bind="text: dexterity"></span>
			</li>
			<li>
				<span>CONSTITUTION: </span><span data-bind="text: constitution"></span>
			</li>
			<li>
				<span>WISDOM: </span><span data-bind="text: wisdom"></span>
			</li>
			<li>
				<span>INTELLECT: </span><span data-bind="text: intellect"></span>
			</li>
			<li>
				<!-- ko if: weapon() -->
				<span>WIELDING: </span><span data-bind="text: weapon().name"></span>
				<!-- /ko -->
				<!-- ko ifnot: weapon() -->
				<span>WIELDING: </span><span>NOTHING</span>
				<!-- /ko -->
			</li>
			<li>
				<!-- ko if: item() -->
				<span>ARMOR: </span><span data-bind="text: item().name"></span>
				<!-- /ko -->
				<!-- ko ifnot: item() -->
				<span>ARMOR: </span><span>NOTHING</span>
				<!-- /ko -->
			</li>
		</ul>
		<h3>WEAPONS</h3>
		<ul data-bind="foreach: weapons">
			<li data-bind="click: function () { $parents[2].clickWeapon($index); }, css: { 'clickable': $parents[2].isWielding() }">
				<strong><span data-bind="text: $index() + 1"></span>-<span data-bind="text: name"></span> - DMG: <span data-bind="text: damage"></span></strong>
			</li>
		</ul>
		<div data-bind="visible: (classType() && classType().name() !== 'FIGHTER') ">
			<h3>SPELLS</h3>
			<ul data-bind="foreach: spells">
				<li data-bind="click: function () { $parents[2].clickSpell($index); }, css: { 'clickable': $parents[2].isCasting() }">
					<strong><span data-bind="text: $index() + 1"></span>-<span data-bind="text: name"></span> - DMG: <span data-bind="text: damage"></span></strong>
				</li>
			</ul>
		</div>
		<h3>ITEMS</h3>
		<ul data-bind="foreach: items">
			<li>
				<strong><span data-bind="text: $index() + 1"></span>-<span data-bind="text: name"></span>- VALUE: <span data-bind="text: value"></span></strong>
			</li>
		</ul>
	</div>
	<div class="span7" data-bind="visible: $parent.session.settings().ShowMap">
		<ul class="unstyled " data-bind="foreach: rows">
			<li>
				<ul class="unstyled game-row" data-bind="foreach: $data">
					<li class="game-tile">
						<span data-bind="text: image"></span>
					</li>
				</ul>
			</li>
		</ul>
	</div>
	<div class="span2" data-bind="visible: $parent.session.settings().ShowInstructions">
		<h3>INSTRUCTIONS</h3>
		<ul data-bind="foreach: $parent.instructions">
			<li class="clickable" data-bind="click: $parents[1].clickInstruction">
				<span data-bind="text: command"></span> - <span data-bind="text: text"></span>
			</li>
		</ul>
		<div data-bind="visible: ($parent.player() && $parent.player().classType() && $parent.player().classType().name() !== 'FIGHTER') ">
			<h3>AVAILABLE SPELLS</h3>
			<ul data-bind="foreach: $parent.availableSpells">
				<li>
					<strong><span data-bind="text: $index() + 1"></span>-<span data-bind="text: name"></span>- COST: <span data-bind="text: value"></span></strong>
				</li>
			</ul>
		</div>
	</div>
	<div class="span2" data-bind="visible: !$parent.session.settings().ShowInstructions()">
		<h3>INSTRUCTIONS</h3>
		<ul>
			<li>
				<span>20 - SETTINGS</span>
			</li>
		</ul>
	</div>
</div>